---
import { Image } from '@astrojs/image/components';
import projects from '../content/projects.json';
---

<section
  id="projects"
  aria-labelledby="projects-title"
  class="relative w-full bg-black py-20 text-white"
>
  <div class="container mx-auto px-6">
    <h2 id="projects-title" class="mb-12 text-center text-4xl font-bold text-green-400">
      Projects
    </h2>

    <div class="grid grid-cols-1 gap-10 sm:grid-cols-2 lg:grid-cols-3">
      {
        projects.map(project => (
          <div class="group relative overflow-hidden rounded-xl border border-green-900 bg-gray-900/50 p-4 transition-all duration-300 hover:border-green-400 hover:shadow-lg hover:shadow-green-500/20">
            <div class="relative mb-4 overflow-hidden rounded-lg">
              <Image
                src={project.image}
                alt={`Screenshot of ${project.title}`}
                width={project?.width || 400}
                height={project?.height || 300}
                sizes="(max-width: 768px) 100vw, 33vw"
                format="webp"
                quality={80}
                class="h-48 w-full object-cover transition-transform duration-500 group-hover:scale-105"
              />
            </div>

            <h3 class="mb-2 text-2xl font-semibold text-green-300">{project.title}</h3>
            <p class="mb-4 text-sm text-gray-300">{project.description}</p>

            <ul class="mb-4 flex flex-wrap gap-2">
              {project.tech.map(t => (
                <li class="rounded-md bg-gray-800/50 px-2 py-1 font-mono text-xs text-green-400 ring-1 ring-green-900">
                  {t}
                </li>
              ))}
            </ul>

            <div class="flex gap-4">
              {project.github && (
                <a
                  href={project.github}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="text-sm text-green-400 transition hover:text-green-300"
                >
                  GitHub →
                </a>
              )}
              {project.demo && (
                <a
                  href={project.demo}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="text-sm text-green-400 transition hover:text-green-300"
                >
                  Live Demo →
                </a>
              )}
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>

<style>
  section {
    animation: fade-in 1s ease-out both;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
